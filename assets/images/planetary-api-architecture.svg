<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400">
  <defs>
    <marker id="arrowGray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#6b7280"/>
    </marker>
    <marker id="arrowBlue" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#3b82f6"/>
    </marker>
    <marker id="arrowGreen" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#10b981"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="#0f1117"/>

  <!-- Title -->
  <text x="400" y="36" text-anchor="middle" fill="#e5e7eb" font-family="ui-monospace,monospace" font-size="15" font-weight="bold">planetary-api — Docker Compose Architecture</text>

  <!-- Docker Compose boundary -->
  <rect x="210" y="58" width="480" height="290" rx="10" fill="none" stroke="#2563eb" stroke-width="1.5" stroke-dasharray="7,4" opacity="0.5"/>
  <text x="228" y="76" fill="#3b82f6" font-family="ui-monospace,monospace" font-size="11" opacity="0.7">docker compose up --build</text>

  <!-- ── CLIENT BOX ── -->
  <rect x="28" y="158" width="142" height="84" rx="7" fill="#1f2937" stroke="#4b5563" stroke-width="1.5"/>
  <text x="99" y="183" text-anchor="middle" fill="#9ca3af" font-family="ui-monospace,monospace" font-size="12" font-weight="bold">HTTP Client</text>
  <text x="99" y="202" text-anchor="middle" fill="#6b7280" font-family="ui-monospace,monospace" font-size="11">curl / Burp Suite</text>
  <text x="99" y="220" text-anchor="middle" fill="#6b7280" font-family="ui-monospace,monospace" font-size="11">sqlmap / Postman</text>

  <!-- Arrow: Client → Flask -->
  <line x1="170" y1="200" x2="228" y2="200" stroke="#6b7280" stroke-width="1.5" marker-end="url(#arrowGray)"/>
  <text x="199" y="193" text-anchor="middle" fill="#9ca3af" font-family="ui-monospace,monospace" font-size="10">:5001</text>

  <!-- ── FLASK API BOX ── -->
  <rect x="230" y="148" width="180" height="104" rx="8" fill="#172554" stroke="#3b82f6" stroke-width="2"/>
  <text x="320" y="176" text-anchor="middle" fill="#93c5fd" font-family="ui-monospace,monospace" font-size="14" font-weight="bold">Flask API</text>
  <text x="320" y="197" text-anchor="middle" fill="#60a5fa" font-family="ui-monospace,monospace" font-size="11">app.py</text>
  <text x="320" y="214" text-anchor="middle" fill="#4b5563" font-family="ui-monospace,monospace" font-size="10">SQLAlchemy · Marshmallow</text>
  <text x="320" y="229" text-anchor="middle" fill="#4b5563" font-family="ui-monospace,monospace" font-size="10">Flask-JWT-Extended</text>
  <text x="320" y="244" text-anchor="middle" fill="#1d4ed8" font-family="ui-monospace,monospace" font-size="11" font-weight="bold">port 5001</text>

  <!-- Arrow: Flask → MySQL -->
  <line x1="410" y1="200" x2="468" y2="200" stroke="#6b7280" stroke-width="1.5" marker-end="url(#arrowGray)"/>

  <!-- ── MYSQL BOX ── -->
  <rect x="470" y="148" width="180" height="104" rx="8" fill="#431407" stroke="#f97316" stroke-width="2"/>
  <text x="560" y="176" text-anchor="middle" fill="#fdba74" font-family="ui-monospace,monospace" font-size="14" font-weight="bold">MySQL</text>
  <text x="560" y="197" text-anchor="middle" fill="#fb923c" font-family="ui-monospace,monospace" font-size="11">planets table</text>
  <text x="560" y="214" text-anchor="middle" fill="#4b5563" font-family="ui-monospace,monospace" font-size="10">auto-seeded on startup</text>
  <text x="560" y="229" text-anchor="middle" fill="#4b5563" font-family="ui-monospace,monospace" font-size="10">Star Trek planet data</text>
  <text x="560" y="244" text-anchor="middle" fill="#c2410c" font-family="ui-monospace,monospace" font-size="11" font-weight="bold">port 3306</text>

  <!-- Arrow: Flask → Mailpit (downward, dashed) -->
  <line x1="320" y1="252" x2="320" y2="300" stroke="#10b981" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowGreen)"/>
  <text x="342" y="282" fill="#6ee7b7" font-family="ui-monospace,monospace" font-size="10">SMTP</text>

  <!-- ── MAILPIT BOX ── -->
  <rect x="230" y="302" width="180" height="76" rx="8" fill="#022c22" stroke="#10b981" stroke-width="2"/>
  <text x="320" y="328" text-anchor="middle" fill="#6ee7b7" font-family="ui-monospace,monospace" font-size="14" font-weight="bold">Mailpit</text>
  <text x="320" y="348" text-anchor="middle" fill="#4b5563" font-family="ui-monospace,monospace" font-size="10">email capture &amp; web UI</text>
  <text x="320" y="365" text-anchor="middle" fill="#059669" font-family="ui-monospace,monospace" font-size="11" font-weight="bold">SMTP :1025 · UI :8025</text>

  <!-- Footer note -->
  <text x="400" y="390" text-anchor="middle" fill="#374151" font-family="ui-monospace,monospace" font-size="10">Vulnerable by design — for AppSec training only</text>
</svg>
